<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Drag Papers ‚ù§Ô∏è</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Zeyada&display=swap"
      rel="stylesheet"
    />
    <a
      href="rraj.html"
      style="
        display: inline-block;
        padding: 10px 16px;
        background: #0d6efd;
        color: #fff;
        text-decoration: none;
        border-radius: 8px;
      "
    >
      A special page for you
    </a>

    <style>
      body {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background-size: 1000px;
        background-image: url("https://www.psdgraphics.com/wp-content/uploads/2022/01/white-math-paper-texture.jpg");
        background-position: center center;
        margin: 0;
        overflow: hidden;
      }

      .paper {
        background-image: url("https://i0.wp.com/textures.world/wp-content/uploads/2018/10/2-Millimeter-Paper-Background-copy.jpg?ssl=1");
        background-size: 500px;
        background-position: center center;
        padding: 20px 100px;
        transform: rotateZ(-5deg);
        box-shadow: 1px 15px 20px 0px rgba(0, 0, 0, 0.5);
        position: absolute;
        cursor: grab;
        touch-action: none; /* prevent browser gestures */
      }

      .paper.heart {
        position: relative;
        width: 200px;
        height: 200px;
        padding: 0;
        border-radius: 50%;
      }

      .paper.image {
        padding: 10px;
      }
      .paper.image p {
        font-size: 30px;
      }

      img {
        max-height: 200px;
        width: 100%;
        user-select: none;
        border-radius: 8px;
      }

      .paper.heart::after {
        content: "";
        background-image: url("https://cdn.pixabay.com/photo/2016/03/31/19/25/cartoon-1294994__340.png");
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-size: 150px;
        background-position: center center;
        background-repeat: no-repeat;
        opacity: 0.6;
      }

      p {
        font-family: "Zeyada", cursive;
        font-size: 50px;
        color: rgb(0, 0, 100);
        opacity: 0.75;
        user-select: none;
      }

      a.button-link {
        display: inline-block;
        padding: 10px 16px;
        background: #0d6efd;
        color: #fff;
        text-decoration: none;
        border-radius: 8px;
        font-family: Arial, sans-serif;
        position: fixed;
        top: 20px;
        left: 20px;
      }
    </style>
  </head>
  <body>
    <!-- Button to special page -->
    <a href="rraj.html" class="button-link">Halaman khusus untuk Kamu</a>

    <!-- Papers -->
    <div class="paper heart"></div>

    <div class="paper image">
      <p>dan aku jatuh ke dalam</p>
      <p>suka dengan Anda üòç</p>
      <img src="1.jpg" />
    </div>

    <div class="paper image">
      <p></p>
      <img src="2.jpg" />
    </div>

    <div class="paper image">
      <p>Bagaimana bisa</p>
      <p>seseorang yang sangat imut ‚ù§Ô∏è</p>
      <img src="3.jpg" />
    </div>

    <div class="paper red">
      <p class="p1">dan Favorit Saya</p>
      <p class="p2">Orang üòç</p>
    </div>

    <div class="paper">
      <p class="p1">Kamu lucu</p>
      <p class="p1">
        Menakjubkan <span style="color: red !important">‚ù§Ô∏è</span>
      </p>
    </div>

    <div class="paper">
      <p class="p1">Seret kertas untuk memindahkan!</p>
    </div>

    <script>
      let highestZ = 1;

      class Paper {
        holdingPaper = false;
        startX = 0;
        startY = 0;
        prevX = 0;
        prevY = 0;
        velX = 0;
        velY = 0;
        rotation = Math.random() * 30 - 15;
        currentX = 0;
        currentY = 0;
        rotating = false;

        init(paper) {
          // Mouse move
          document.addEventListener("mousemove", (e) => {
            this.move(e.clientX, e.clientY, paper);
          });

          // Touch move (prevent scroll issue)
          document.addEventListener(
            "touchmove",
            (e) => {
              if (this.holdingPaper && e.touches.length === 1) {
                e.preventDefault(); // Stop page scroll
                this.move(e.touches[0].clientX, e.touches[0].clientY, paper);
              }
            },
            { passive: false }
          );

          // Mouse down
          paper.addEventListener("mousedown", (e) =>
            this.start(e.clientX, e.clientY, e.button, paper)
          );

          // Touch start
          paper.addEventListener("touchstart", (e) => {
            if (e.touches.length === 1) {
              this.start(e.touches[0].clientX, e.touches[0].clientY, 0, paper);
            }
          });

          // Mouse up + Touch end
          window.addEventListener("mouseup", () => this.end());
          window.addEventListener("touchend", () => this.end());
        }

        start(x, y, button, paper) {
          if (this.holdingPaper) return;
          this.holdingPaper = true;
          paper.style.zIndex = highestZ++;

          this.startX = x;
          this.startY = y;
          this.prevX = x;
          this.prevY = y;

          if (button === 2) this.rotating = true; // Right click rotate
        }

        move(x, y, paper) {
          if (!this.holdingPaper) return;

          if (!this.rotating) {
            this.velX = x - this.prevX;
            this.velY = y - this.prevY;
          }

          if (this.rotating) {
            const dirX = x - this.startX;
            const dirY = y - this.startY;
            const angle = Math.atan2(dirY, dirX);
            this.rotation = (360 + Math.round((180 * angle) / Math.PI)) % 360;
          } else {
            this.currentX += this.velX;
            this.currentY += this.velY;
          }

          this.prevX = x;
          this.prevY = y;

          paper.style.transform = `translateX(${this.currentX}px) translateY(${this.currentY}px) rotateZ(${this.rotation}deg)`;
        }

        end() {
          this.holdingPaper = false;
          this.rotating = false;
        }
      }

      const papers = Array.from(document.querySelectorAll(".paper"));
      papers.forEach((paper) => {
        const p = new Paper();
        p.init(paper);
      });
    </script>
  </body>
</html>
